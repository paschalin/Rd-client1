(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7411],{23713:function(e,n,t){Promise.resolve().then(t.bind(t,40564)),Promise.resolve().then(t.bind(t,36639)),Promise.resolve().then(t.bind(t,21758)),Promise.resolve().then(t.t.bind(t,38173,23)),Promise.resolve().then(t.t.bind(t,231,23)),Promise.resolve().then(t.t.bind(t,86874,23)),Promise.resolve().then(t.bind(t,52542)),Promise.resolve().then(t.t.bind(t,10827,23)),Promise.resolve().then(t.t.bind(t,36873,23)),Promise.resolve().then(t.t.bind(t,57135,23)),Promise.resolve().then(t.t.bind(t,74362,23))},21758:function(e,n,t){"use strict";t.d(n,{default:function(){return x}});var s=t(57437),r=t(2265),i=function(e){let{userAvatar:n,commentInput:t,setcommentInput:r,replyId:i=null,commentPostHandler:o,isSubmitting:a=!1}=e;return(0,s.jsxs)("div",{className:"commentInputContainer",children:[(0,s.jsx)("div",{className:"userAvatar ".concat(null!==i&&"userAvatar_sm"),style:{background:"url(".concat(n,")")}}),(0,s.jsxs)("div",{className:"inputAndSubmit",children:[(0,s.jsx)("textarea",{className:"commentInput",placeholder:"Share your thoughts",value:t,onChange:e=>r(e.target.value)}),(0,s.jsx)("button",{onClick:()=>o(),className:"btn",children:a?(0,s.jsx)("span",{className:"loader",children:"..."}):null==i?"Comment":"Reply"})]})]})},o=t(57135),a=t.n(o),l=t(59239),c=t(29382),u=t(4983),m=t(62868),d=t(12859),h=t(24625),v=t(87138),f=t(56280),p=function e(n){let{comment:t,session:o,fetchCommnets:a,replies:p,nested:x=!1,allComments:j}=n,[y,b]=(0,r.useState)(!1),[N,_]=(0,r.useState)(""),[g,C]=(0,r.useState)(!1),[w,T]=(0,r.useState)(!1),I=async()=>{""!=N&&(await (0,d.fX)(t.postId,N,null==o?void 0:o.id,t.id),_(""),a())},k=async()=>{confirm("Are you sure you want to delte this comment? this action cannot be undone")&&(await (0,d.YF)(t.id),a())};return(0,s.jsxs)("div",{className:"commentDisplayCardContainer",children:[(0,s.jsxs)("div",{className:"commentDisplayHeader",children:[(0,s.jsx)(v.default,{href:"/".concat(t.authorUsername),children:(0,s.jsx)("div",{style:{background:"url(".concat(t.authorAvatar,")")},className:"commentAuthorAvatar ".concat(x&&"avatar_sm")})}),(0,s.jsxs)("div",{className:"commentAuthorNameDateContainer",children:[(0,s.jsx)(v.default,{href:"/".concat(t.authorUsername),children:(0,s.jsxs)("p",{className:"commentAuthorName",children:[" ",t.authorName," ","1"==t.authorVerified&&(0,s.jsx)(f.Z,{})]})}),(0,s.jsx)("span",{className:"commentPublishDate",children:(0,h.p6)(t.createdAt)})]}),(0,s.jsx)("span",{onClick:()=>b(!y),className:"moreOptionIcon",children:(0,s.jsx)(l.Z,{})}),(0,s.jsxs)("div",{style:{display:y?"block":"none"},className:"moreMenu",children:[(0,s.jsxs)("div",{className:"moreMenuItem",children:[(0,s.jsx)(u.Z,{})," Report"]}),(null==o?void 0:o.id)==t.userID&&(0,s.jsxs)("div",{onClick:()=>k(),className:"moreMenuItem deleteMenu",children:[(0,s.jsx)(m.Z,{color:"red"})," Delete"]})]})]}),(0,s.jsx)("p",{className:"commentText",children:t.content}),(0,s.jsxs)("div",{className:"repliesActions",children:[(0,s.jsxs)("span",{onClick:()=>T(!w),className:"repliesBtn",children:[null==p?void 0:p.length," replies"]}),(0,s.jsxs)("span",{className:"replyBtn",onClick:()=>C(!g),children:[(0,s.jsx)(c.Z,{className:"replyIcon"})," Reply"]})]}),g&&(0,s.jsx)("div",{className:"replyCommentContainer",children:(0,s.jsx)(i,{setcommentInput:_,commentInput:N,replyId:t.id,userAvatar:null==o?void 0:o.avatar,commentPostHandler:I})}),w&&(0,s.jsx)("div",{className:"showReplyContainer",children:(null==p?void 0:p.length)>0&&(null==p?void 0:p.map(n=>(0,s.jsx)(e,{comment:n,session:o,fetchCommnets:a,replies:null==j?void 0:j.filter(e=>e.replyId==n.id),nested:!0,allComments:j})))})]})},x=function(e){let{session:n,postId:t}=e,[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1),f=async()=>{""!=c&&(h(!0),await (0,d.fX)(t,c,null==n?void 0:n.id,""),u(""),h(!1),x())},x=async()=>{l(await (0,d.li)(t)),console.log("fetched")};return(0,r.useEffect)(()=>{(async()=>{await x()})()},[]),(0,s.jsxs)("div",{className:"commentsContainer ".concat(a().className),children:[(0,s.jsxs)("h1",{children:["Comments ",(null==o?void 0:o.length)>0&&"(".concat(null==o?void 0:o.length,")")]}),null==o&&(0,s.jsxs)("div",{className:"noComment",children:[(0,s.jsx)("p",{children:"There are no comments for this article"}),(0,s.jsx)("span",{children:"Be the first to comment and start the conversation"})]}),(0,s.jsx)("br",{}),(null==n?void 0:n.token)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i,{userAvatar:null==n?void 0:n.avatar,commentInput:c,setcommentInput:u,commentPostHandler:f,isSubmitting:m}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(null==o?void 0:o.length)>0?null==o?void 0:o.filter(e=>(null==e?void 0:e.replyId)==null).map((e,t)=>(0,s.jsx)("div",{children:(0,s.jsx)(p,{session:n,comment:e,replies:o.filter(n=>n.replyId==e.id),fetchCommnets:x,allComments:o})},t)):""]}):(0,s.jsxs)("div",{className:"signinToComment",children:[(0,s.jsx)("p",{children:"Please sign in to comment or view comment"}),(0,s.jsx)(v.default,{href:"/signup",children:(0,s.jsx)("button",{className:"btn",children:"Sign In"})})]})]})}},62868:function(e,n,t){"use strict";var s=t(23963);n.Z=void 0;var r=s(t(19118)),i=t(57437),o=(0,r.default)((0,i.jsx)("path",{d:"M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zm2-8h6v8H5v-8zm5-6H6L5 5H2v2h12V5h-3z"}),"DeleteSweepOutlined");n.Z=o},59239:function(e,n,t){"use strict";var s=t(23963);n.Z=void 0;var r=s(t(19118)),i=t(57437),o=(0,r.default)((0,i.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHorizOutlined");n.Z=o},29382:function(e,n,t){"use strict";var s=t(23963);n.Z=void 0;var r=s(t(19118)),i=t(57437),o=(0,r.default)((0,i.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"ReplyOutlined");n.Z=o},20357:function(e,n,t){"use strict";var s,r;e.exports=(null==(s=t.g.process)?void 0:s.env)&&"object"==typeof(null==(r=t.g.process)?void 0:r.env)?t.g.process:t(88081)},88081:function(e){!function(){var n={229:function(e){var n,t,s,r=e.exports={};function i(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{t="function"==typeof clearTimeout?clearTimeout:o}catch(e){t=o}}();var l=[],c=!1,u=-1;function m(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length&&d())}function d(){if(!c){var e=a(m);c=!0;for(var n=l.length;n;){for(s=l,l=[];++u<n;)s&&s[u].run();u=-1,n=l.length}s=null,c=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===o||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(n){try{return t.call(null,e)}catch(n){return t.call(this,e)}}}(e)}}function h(e,n){this.fun=e,this.array=n}function v(){}r.nextTick=function(e){var n=Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];l.push(new h(e,n)),1!==l.length||c||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},t={};function s(e){var r=t[e];if(void 0!==r)return r.exports;var i=t[e]={exports:{}},o=!0;try{n[e](i,i.exports,s),o=!1}finally{o&&delete t[e]}return i.exports}s.ab="//";var r=s(229);e.exports=r}()},36873:function(){},86874:function(e){e.exports={style:{fontFamily:"'__Inter_c5c437', '__Inter_Fallback_c5c437'",fontStyle:"normal"},className:"__className_c5c437",variable:"__variable_c5c437"}},74362:function(e){e.exports={style:{fontFamily:"'__Merriweather_9cb816', '__Merriweather_Fallback_9cb816'",fontStyle:"normal"},className:"__className_9cb816",variable:"__variable_9cb816"}}},function(e){e.O(0,[3475,8093,6812,2913,8220,6990,7326,8514,3840,8173,3576,9013,2971,7023,1744],function(){return e(e.s=23713)}),_N_E=e.O()}]);
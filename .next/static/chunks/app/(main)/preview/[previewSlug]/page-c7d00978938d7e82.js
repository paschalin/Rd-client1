(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6151],{66252:function(e,a,s){Promise.resolve().then(s.bind(s,1082))},23141:function(e,a,s){"use strict";var t=s(57437);s(2265),s(69533),a.Z=function(){return(0,t.jsx)("div",{className:"loadingArea"})}},283:function(e,a,s){"use strict";var t=s(57437);s(2265),s(4012);var n=s(87138);a.Z=function(e){let{reason:a,searchClass:s}=e;return(0,t.jsxs)("div",{className:"notFoundContainer",children:["no_category"==a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"notfoundBG",style:{background:"url(https://reedboss.s3.us-east-2.amazonaws.com/branding/empty-box.png)"}}),(0,t.jsx)("h3",{children:"Oops! Category Not Found"}),(0,t.jsxs)("p",{children:["Hey lad, we tried but we couldn't find that category you're looking for. ",(0,t.jsx)("br",{})," Our team will be working to add that soon, mean while browse these categories"]}),(0,t.jsx)("small",{children:"I promise these ones exist \uD83E\uDD7A"}),(0,t.jsxs)("div",{className:"suggestedCategories",children:[(0,t.jsx)("span",{children:"category"}),(0,t.jsx)("span",{children:"category"}),(0,t.jsx)("span",{children:"category"})]})]}),"no_post_for_category"==a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"notfoundBG",style:{background:"url(https://reedboss.s3.us-east-2.amazonaws.com/branding/sad+man.png)"}}),(0,t.jsx)("h3",{children:"Snap! No Post Found For That Category"}),(0,t.jsxs)("p",{children:["Hey lad, we just launched so we do not have any article for that category at the moment ",(0,t.jsx)("br",{})," Feeling brave? be the first to write an article."]}),(0,t.jsx)("br",{}),(0,t.jsx)("small",{children:"C'mon you gat this \uD83D\uDCAA"}),(0,t.jsx)(n.default,{href:"/create",children:(0,t.jsx)("button",{className:"btn",children:"Write Article"})})]}),"no_search_article"==a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"notfoundBG",style:{background:"url(".concat("articles"==s||"tags"==s?"https://reedboss.s3.us-east-2.amazonaws.com/branding/sad+man.png":"https://reedboss.s3.us-east-2.amazonaws.com/branding/no+user.png",")")}}),"articles"==s?(0,t.jsx)("h3",{children:"Snap! No Post Found For That Keyword"}):"people"==s?(0,t.jsx)("h3",{children:"Snap! No User Found With That Name"}):"tags"==s?(0,t.jsx)("h3",{children:"Snap! No Post Found For That Category"}):"","articles"==s||"people"==s?(0,t.jsxs)("p",{children:["Make sure all words are spelled correctly ",(0,t.jsx)("br",{})," try searching a more general keyword"]}):"","tags"==s&&(0,t.jsxs)("p",{children:["Make sure all words are spelled correctly ",(0,t.jsx)("br",{})," try searching a more general keyword"]}),(0,t.jsx)("br",{}),(0,t.jsx)(n.default,{href:"/explore",children:(0,t.jsx)("button",{className:"btn",children:"Let's try that again"})})]}),"no_post_for_user"==a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"notfoundBG",style:{background:"url(https://reedboss.s3.us-east-2.amazonaws.com/branding/sad+man.png)"}}),(0,t.jsx)("h3",{children:"Snap! This user has not written anything yet"}),(0,t.jsxs)("p",{children:["Try reaching out to them on their social media handles ",(0,t.jsx)("br",{})," or check out other users"]}),(0,t.jsx)("br",{}),(0,t.jsx)(n.default,{href:"/explore",children:(0,t.jsx)("button",{className:"btn",children:"Search Users"})}),(0,t.jsx)("br",{})]})]})}},1082:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return g}});var t=s(57437),n=s(2265);s(23292),s(10827);var r=s(30998),o=s(45213),i=s(57135),l=s.n(i),c=s(87138),d=s(56280),u=function(e){let{authorAvatar:a,authorUsername:s,authorName:n,authorId:r,articlePublishDate:o,articleReadTime:i,session:u,doesSignedInUserFollowAuthor:h,authorVerified:m}=e;return(0,t.jsxs)("div",{className:"".concat(l().className," articleInfoCardContainer"),children:[(0,t.jsx)("div",{className:"authorAvatar",style:{background:"url(".concat(a,")")}}),(0,t.jsxs)("div",{className:"articleAuthorInfo",children:[(0,t.jsxs)("div",{className:"authorNameAndFollowButton",children:[(0,t.jsxs)("p",{className:"authorName",children:[" ",(0,t.jsxs)(c.default,{href:"/".concat(s),children:["By ",n," ","1"==m&&(0,t.jsx)(d.Z,{})]})," - ",(0,t.jsx)(c.default,{href:"/".concat(s),children:(0,t.jsxs)("span",{className:"authorUsername",children:["@",s]})})," "]}),(null==u?void 0:u.email)&&!h&&r!==(null==u?void 0:u.id)&&(0,t.jsx)("span",{children:"Follow"}),!(null==u?void 0:u.email)&&(0,t.jsx)(c.default,{href:"/signup",children:(0,t.jsx)("span",{children:"Follow"})})]}),(0,t.jsxs)("div",{className:"publishDateAndReadTime",children:[(0,t.jsxs)("span",{className:"articlePublishedDate",children:["published ",o]})," \xa0 | \xa0 ",(0,t.jsxs)("span",{className:"articleReadTime",children:[i," mins read time"]})]})]})]})},h=s(36639),m=s(40564),p=s(283),j=s(24625),x=s(66648),v=s(23141),g=function(e){var a;let{params:s}=e,{data:i}=(0,r.useSession)(),[d,g]=(0,n.useState)(!0),[f,w]=(0,n.useState)({}),[b,N]=(0,n.useState)(["","","","",""]),[y,I]=(0,n.useState)(!1),C=(0,n.useRef)([]);(0,n.useEffect)(()=>{I(!0),k()},[s]);let k=async()=>{let e=await (0,r.getSession)(o.Lz),a=new FormData;a.append("action","checkIfCodeRequiredForPreview"),a.append("slug",s.previewSlug);let t=await fetch("/api/posts/actions.php?data=checkIfCodeRequiredForPreview&slug=".concat(s.previewSlug)),n=await t.json();if("No data found"==n.message){alert("No Preview Post Found");return}let i=n.data[0];if(console.log(i),(null==e?void 0:e.id)!==i.authorId)g(!0);else{g(!1);let e=await fetch("/api/posts/index.php?articleId=".concat(null==i?void 0:i.postId));w((await e.json()).data)}I(!1)},F=(e,a)=>{if(a.length<=1){let s=[...b];s[e]=a,N(s),1===a.length&&e<4&&C.current[e+1].focus()}},_=(e,a)=>{"Backspace"===a.key&&!b[e]&&e>0&&C.current[e-1].focus()},S=async()=>{I(!0);let e=await fetch("/api/posts/actions.php?data=verifyCode&slug=".concat(s.previewSlug,"&code=").concat(b.join(""))),a=await e.json();200==a.status?(N(["","","","",""]),g(!1),console.log(a.data),w(a.data)):alert("Incorect Preview Code"),I(!1)};return y?(0,t.jsx)(v.Z,{}):(0,t.jsx)("div",{className:"previewContainer ".concat(l().className),children:d?(0,t.jsxs)("div",{className:"previewCodeInput",children:[(0,t.jsx)("h2",{children:"Enter Preview Code"}),(0,t.jsx)("p",{children:"The author of this article requires a code to preview their article, enter the preview code below"}),(0,t.jsx)("div",{className:"codeForm",children:b.map((e,a)=>(0,t.jsx)("input",{type:"text",value:e,maxLength:1,onChange:e=>F(a,e.target.value),onKeyDown:e=>_(a,e),ref:e=>C.current[a]=e,pattern:"\\d*"},a))}),(0,t.jsx)("button",{onClick:()=>S(),className:"btn",children:"Continue"})]}):(0,t.jsx)("div",{className:"articleContainer",children:f?(0,t.jsxs)(t.Fragment,{children:[""!==f.coverImage&&(0,t.jsx)("div",{className:"mobileCoverImageTop",children:(0,t.jsx)(x.default,{className:"mobileCoverImg",src:null==f?void 0:f.coverImage,fill:!0})}),(0,t.jsx)("h1",{children:f.title}),(0,t.jsx)("br",{}),(0,t.jsx)(u,{authorAvatar:f.authorAvatar,authorName:f.authorName,authorUsername:f.authorUsername,articlePublishDate:(0,j.p6)(f.createdAt),articleReadTime:"5 mins",authorId:f.authorId,doesSignedInUserFollowAuthor:!1,session:i,preview:!0}),(0,t.jsx)("br",{}),(0,t.jsx)(h.default,{postId:f.id,userId:null==i?void 0:i.id,session:i,preview:!0}),(0,t.jsx)("br",{}),(0,t.jsx)("article",{dangerouslySetInnerHTML:{__html:null==f?void 0:f.content}}),(0,t.jsx)("div",{className:"articleTags ".concat(l().className),children:(null==f?void 0:f.tags)!==""&&(null==f?void 0:null===(a=f.tags)||void 0===a?void 0:a.split(",").map((e,a)=>(0,t.jsx)(c.default,{href:"/",children:(0,t.jsx)("span",{children:e},a)})))}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(m.default,{author:{id:f.authorId,name:f.authorName,avatar:f.authorAvatar,username:f.authorUsername,bio:f.authorBio},session:i,doesSignedInUserFollowAuthor:!1,preview:!0}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(h.default,{postId:f.id,userId:null==i?void 0:i.id,session:i,preview:!0}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("div",{id:"commentScrollHolder"})]}):(0,t.jsx)(p.Z,{})})})}},45213:function(e,a,s){"use strict";s.d(a,{Lz:function(){return c}});var t=s(62175),n=s.n(t),r=s(70763),o=s(60902),i=s(20357);let l=i.env.API_URL,c={session:{strategy:"jwt"},providers:[(0,r.Z)({clientId:i.env.GOOGLE_CLIENT_ID,clientSecret:i.env.GOOGLE_CLIENT_SECRET}),(0,o.Z)({name:"Credentials",async authorize(e){let{email:a,token:s}=e,t=await fetch("".concat(l,"/users/index.php?email=").concat(a,"&with=token"),{method:"GET",headers:{Authorization:"Bearer "+s}}),n=await t.json();return 200==n.status&&n.data?n.data:null}})],callbacks:{async signIn(e){if("google"==e.account.provider){var a,s,t,n;let r=await fetch("".concat(l,"/users/checkIfUserExists.php?email=").concat(null==e?void 0:null===(a=e.user)||void 0===a?void 0:a.email));return!1!==(await r.json()).message||"/signup?continue=true&email=".concat(null==e?void 0:null===(s=e.user)||void 0===s?void 0:s.email,"&name=").concat(null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.name,"&image=").concat(null==e?void 0:null===(n=e.user)||void 0===n?void 0:n.image)}return{hello:"world"}},jwt:async e=>{let{token:a,user:s,trigger:t,session:n}=e;if(s){let e=await fetch("".concat(l,"/users/index.php?email=").concat(null==s?void 0:s.email,"&with=token")),t=await e.json();if(console.log("response: "+t),200!==t.status)return a;a={...a,...t.data}}return"update"===t&&a?{...a,...n}:a},session:async e=>{let{session:a,token:s}=e;return s}}};n()(c)},69533:function(){},4012:function(){},23292:function(){}},function(e){e.O(0,[6830,6812,3475,6076,7743,6990,7326,8218,8514,3840,998,8173,6300,96,3576,9013,2971,7023,1744],function(){return e(e.s=66252)}),_N_E=e.O()}]);